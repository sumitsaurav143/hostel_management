(this.webpackJsonphostelmanagement=this.webpackJsonphostelmanagement||[]).push([[0],{35:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(27),r=c.n(s),o=c(22),i=c.n(o),l=c(24),d=c(17),j=c(69),b=c(67),u=c(68),h=c(31),O=h.a.initializeApp({apiKey:"AIzaSyAR9XBOgZymhU4dLDBCRsuDpKSj1ZjmLRg",authDomain:"hostel-management-reactns.firebaseapp.com",databaseURL:"https://hostel-management-reactns.firebaseapp.com",projectId:"hostel-management-reactns",storageBucket:"hostel-management-reactns.appspot.com",messagingSenderId:"734857869301",appId:"1:734857869301:web:ef2a06c9290ab7852112bc"}),x=h.a.firestore(),m=(h.a.storage(),O.auth()),p=c(3);function f(){return Object(a.useContext)(g)}var g=n.a.createContext();function v(e){var t=e.children,c=Object(a.useState)(),n=Object(d.a)(c,2),s=n[0],r=n[1],o=Object(a.useState)(!0),i=Object(d.a)(o,2),l=i[0],j=i[1];Object(a.useEffect)((function(){return m.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var b={currentUser:s,login:function(e,t){return m.signInWithEmailAndPassword(e,t)},signup:function(e,t){return m.createUserWithEmailAndPassword(e,t)},logout:function(){return m.signOut()}};return Object(p.jsx)(g.Provider,{value:b,children:!l&&t})}var k=c(14),N=c(10),S=c(30),B=c.n(S),y=c(15);function L(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),n=f().signup,s=Object(a.useState)(""),r=Object(d.a)(s,2),o=r[0],h=r[1],O=Object(a.useState)(!1),x=Object(d.a)(O,2),m=x[0],g=x[1],v=Object(k.f)();function S(){return(S=Object(l.a)(i.a.mark((function a(s){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),c.current.value===t.current.value){a.next=3;break}return a.abrupt("return",h("Password do not match!!"));case 3:return a.prev=3,h(""),g(!0),a.next=8,n(e.current.value,t.current.value);case 8:v.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),h("Failed to create an account!!");case 14:g(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}var L=function(e){y.reactLocalStorage.set("userdata",JSON.stringify({name:e.profileObj.name,email:e.profileObj.email,image:e.profileObj.imageUrl})),v.push("/dashboard")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"appname",children:[Object(p.jsx)("i",{class:"fas fa-hotel"}),Object(p.jsx)("h3",{children:"HOSTEL MANAGEMENT"})]}),Object(p.jsx)("div",{className:"lsbox",children:Object(p.jsxs)(j.a.Body,{className:"lsbox",children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&Object(p.jsx)(b.a,{variant:"danger",children:o}),Object(p.jsxs)(u.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(p.jsxs)(u.a.Group,{id:"email",children:[Object(p.jsx)(u.a.Label,{children:"Email"}),Object(p.jsx)(u.a.Control,{type:"mail",ref:e,required:!0})]}),Object(p.jsxs)(u.a.Group,{id:"password",children:[Object(p.jsx)(u.a.Label,{children:"Password"}),Object(p.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(p.jsx)(u.a.Label,{children:"Confirm Password"}),Object(p.jsx)(u.a.Control,{type:"password",ref:c,required:!0})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"entrybtns",children:[Object(p.jsx)("button",{id:"logsign",disabled:m,type:"submit",children:"Sign Up"}),Object(p.jsx)(B.a,{clientId:"222923456734-s95m9k3u9dtlm87jcbm8e6f1asusvfuq.apps.googleusercontent.com",buttonText:"Login",onSuccess:L,onFailure:L,cookiePolicy:"single_host_origin"})]})]})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account?",Object(p.jsx)(N.b,{to:"/",children:"Log In"})]})]})}c(35);function E(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"blocks",children:Object(p.jsx)(N.b,{id:"homeblocks",to:"/dashboard/roomallot",children:"Room Allotment"})}),Object(p.jsx)("div",{className:"blocks",children:Object(p.jsx)(N.b,{id:"homeblocks",to:"/dashboard/facilities",children:"Facilities"})}),Object(p.jsx)("div",{className:"blocks",children:Object(p.jsx)(N.b,{id:"homeblocks",to:"/dashboard/gallery",children:"Gallery"})}),Object(p.jsx)("div",{className:"blocks",children:Object(p.jsx)(N.b,{id:"homeblocks",to:"/dashboard/about",children:"About"})})]})}function A(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"Header",children:[Object(p.jsx)("h3",{children:"About Us"}),Object(p.jsx)("div",{children:Object(p.jsx)(N.b,{to:"/dashboard",id:"backbtn",children:"BACK"})})]}),Object(p.jsx)("div",{className:"bodypart",children:Object(p.jsxs)("p",{className:"para",children:["It is a hostel management application developed on the platform of React Js.",Object(p.jsx)("br",{}),"Features of the application are:-",Object(p.jsx)("br",{}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"Login Authentication"}),Object(p.jsx)("li",{children:"User Dashboard Panel"}),Object(p.jsx)("li",{children:"Hostel Room Booking"}),Object(p.jsx)("li",{children:"Live Update"}),Object(p.jsx)("li",{children:"Responsive"})]}),Object(p.jsx)("br",{}),"Updates coming soon with more features..."]})})]})}var C=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"Header",children:[Object(p.jsx)("h3",{children:"Gallery"}),Object(p.jsx)("div",{children:Object(p.jsx)(N.b,{to:"/dashboard",id:"backbtn",children:"BACK"})})]}),Object(p.jsx)("div",{className:"bodypart",id:"bodypart",children:Object(p.jsx)("h3",{children:"Pictures will upload soon!!"})})]})},R=function(){return Object(p.jsxs)("div",{className:"hostelbox",children:[Object(p.jsx)("h3",{id:"selectgen",children:"Select your gender:-"}),Object(p.jsxs)("div",{id:"genders",children:[Object(p.jsx)(N.b,{to:"/dashboard/roomallot/boyshostel",children:Object(p.jsx)("button",{id:"gen",children:Object(p.jsx)("i",{class:"fas fa-male"})})}),Object(p.jsx)(N.b,{to:"/dashboard/roomallot/girlshostel",children:Object(p.jsx)("button",{id:"gen",children:Object(p.jsx)("i",{class:"fas fa-female"})})})]})]})},w=c(26),D=function(){var e=JSON.parse(y.reactLocalStorage.get("userdata")),t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),o=Object(d.a)(r,2),j=o[0],b=o[1],u=Object(a.useState)(void 0),h=Object(d.a)(u,2),O=h[0],m=h[1],f=e.email;function g(e){if(j)document.getElementById("rids").innerText="Loading Data...";else{var t=document.getElementById("rids");t.innerHTML="";for(var c=n[1][e],a=function(a){var s=document.createElement("button");s.innerText="Room-"+a,s.setAttribute("id",c[a-1]?"roomid":"roomid2"),s.setAttribute(c[a-1]?"enabled":"disabled",!0),s.addEventListener("click",(function(){!function(e,t){var c="G"+e+":"+t;y.reactLocalStorage.set(f,c),x.collection("StudentDatas").doc("Booked").set(Object(w.a)({},f,{Hostel:"Girls",Block:e,Room:t})),n[1][e][t-1]=!1;var a=x.collection("HostelBlocks").doc("Girls");a.update(Object(w.a)({},e,n[1][e])),O?(n[1][O.Block][O.Room-1]=!0,a.update(Object(w.a)({},O.Block,n[1][O.Block]))):console.log("NO OLD ROOM!!"),alert("NEW ROOM ASSIGNED: "+e+" "+t)}(e,a)})),t.appendChild(s)},s=1;s<=c.length;s++)a(s)}}return Object(a.useEffect)((function(){x.collection("StudentDatas").doc("Booked").get().then((function(e){e.exists?m(e.data()[f]):console.log("No old datas!!")})).catch((function(e){console.log("Error getting student old room details:",e)}))}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,x.collection("HostelBlocks").onSnapshot((function(e){s(e.docs.map((function(e){return e.data()})))}));case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(p.jsxs)("div",{className:"hostelbox",children:[Object(p.jsxs)("div",{className:"hostel_header",children:[Object(p.jsx)("i",{id:"ico",class:"fas fa-female"}),Object(p.jsx)("h1",{children:"GIRL'S HOSTEL!!"}),Object(p.jsx)("i",{id:"ico",class:"fas fa-female"})]}),Object(p.jsxs)("div",{className:"blocks_col",children:[Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("A")},children:"Block-A"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("B")},children:"Block-B"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("C")},children:"Block-C"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("D")},children:"Block-D"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("E")},children:"Block-E"})]}),Object(p.jsx)("div",{id:"rids",children:"Choose Block To See Available Rooms!!"})]})},H=function(){var e=JSON.parse(y.reactLocalStorage.get("userdata")),t=Object(a.useState)([]),c=Object(d.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),o=Object(d.a)(r,2),j=o[0],b=o[1],u=Object(a.useState)(void 0),h=Object(d.a)(u,2),O=h[0],m=h[1],f=e.email.substring(0,e.email.indexOf("@"));function g(e){if(j)document.getElementById("rids").innerText="Loading Data...";else{var t=document.getElementById("rids");t.innerHTML="";for(var c=n[0][e],a=function(a){var s=document.createElement("button");s.innerText="Room-"+a,s.setAttribute("id",c[a-1]?"roomid":"roomid2"),s.setAttribute(c[a-1]?"enabled":"disabled",!0),s.addEventListener("click",(function(){!function(e,t){var c="B"+e+":"+t;y.reactLocalStorage.set(f,c),x.collection("StudentDatas").doc("Booked").update(Object(w.a)({},f,{Hostel:"Boys",Block:e,Room:t})),n[0][e][t-1]=!1;var a=x.collection("HostelBlocks").doc("Boys");a.update(Object(w.a)({},e,n[0][e])),O?(n[0][O.Block][O.Room-1]=!0,a.update(Object(w.a)({},O.Block,n[0][O.Block]))):console.log("NO OLD ROOM!!"),alert("NEW ROOM ASSIGNED: "+e+" "+t)}(e,a)})),t.appendChild(s)},s=1;s<=c.length;s++)a(s)}}return Object(a.useEffect)((function(){x.collection("StudentDatas").doc("Booked").get().then((function(e){e.exists?m(e.data()[f]):console.log("No old datas!!")})).catch((function(e){console.log("Error getting student old room details:",e)}))}),[]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,x.collection("HostelBlocks").onSnapshot((function(e){s(e.docs.map((function(e){return e.data()})))}));case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(p.jsxs)("div",{className:"hostelbox",children:[Object(p.jsxs)("div",{className:"hostel_header",children:[Object(p.jsx)("i",{id:"ico",class:"fas fa-male"}),Object(p.jsx)("h1",{children:"BOY'S HOSTEL!!"}),Object(p.jsx)("i",{id:"ico",class:"fas fa-male"})]}),Object(p.jsxs)("div",{className:"blocks_col",children:[Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("A")},children:"Block-A"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("B")},children:"Block-B"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("C")},children:"Block-C"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("D")},children:"Block-D"}),Object(p.jsx)("button",{id:"blkbtn",onClick:function(){return g("E")},children:"Block-E"})]}),Object(p.jsx)("div",{id:"rids",children:"Choose Block To See Available Rooms!!"})]})};function I(){var e=JSON.parse(y.reactLocalStorage.get("userdata")),t=e.email.substring(0,e.email.indexOf("@"));return void 0===y.reactLocalStorage.get(t)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"Header",children:[Object(p.jsx)("h3",{children:"Room Alloter"}),Object(p.jsx)("div",{children:Object(p.jsx)(N.b,{to:"/dashboard",id:"backbtn",children:"BACK"})})]}),Object(p.jsx)("div",{className:"bodypart",id:"bodypart",children:Object(p.jsx)(N.a,{children:Object(p.jsxs)(k.c,{children:[Object(p.jsx)(k.a,{exact:!0,path:"/dashboard/roomallot/",component:R}),Object(p.jsx)(k.a,{path:"/dashboard/roomallot/girlshostel",component:D}),Object(p.jsx)(k.a,{path:"/dashboard/roomallot/boyshostel",component:H})]})})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"Header",children:[Object(p.jsx)("h3",{children:"Room Alloter"}),Object(p.jsx)("div",{children:Object(p.jsx)(N.b,{to:"/dashboard",id:"backbtn",children:"BACK"})})]}),Object(p.jsxs)("div",{className:"bodypart",id:"bodypart",children:[Object(p.jsx)("h2",{children:"YOUR ROOM IS ALREADY BOOKED!!"}),Object(p.jsx)("h4",{children:"ROOM DETAILS:-"}),Object(p.jsx)("h2",{children:y.reactLocalStorage.get(t)}),Object(p.jsx)(N.b,{to:"/dashboard/roomallot",id:"CHNG",onClick:function(){y.reactLocalStorage.remove(t)},children:"Change Room"})]})]})}var T=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"Header",children:[Object(p.jsx)("h3",{children:"Facilities"}),Object(p.jsx)("div",{children:Object(p.jsx)(N.b,{to:"/dashboard",id:"backbtn",children:"BACK"})})]}),Object(p.jsx)("div",{className:"bodypart",id:"bodypart",children:Object(p.jsx)("h3",{children:"Will Update Soon!!"})})]})};function G(){var e=Object(k.f)(),t=JSON.parse(y.reactLocalStorage.get("userdata")),c=t.email.substring(0,t.email.indexOf("@")),a=y.reactLocalStorage.get(c);return Object(p.jsxs)("div",{className:"dashbd",children:[Object(p.jsxs)("div",{className:"Nav",children:[Object(p.jsx)("h4",{children:Object(p.jsx)("b",{children:"HOSTEL MANAGEMENT"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{id:"logoutbtn",onClick:function(){e.push("/")},children:"Log Out"})})]}),Object(p.jsxs)("div",{className:"dash",children:[Object(p.jsxs)("div",{className:"leftpanel",children:[Object(p.jsx)("div",{className:"propic",children:Object(p.jsx)("img",{className:"userpic",src:t.image,alt:t.name})}),Object(p.jsx)("h4",{id:"userid",children:t.name}),Object(p.jsxs)("div",{className:"id_room",children:[Object(p.jsx)("h6",{id:"mailidd",children:t.email}),Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:a})]})]}),Object(p.jsx)("div",{className:"rightpanel",children:Object(p.jsx)(N.a,{children:Object(p.jsxs)(k.c,{children:[Object(p.jsx)(k.a,{exact:!0,path:"/dashboard",component:E}),Object(p.jsx)(k.a,{path:"/dashboard/about",component:A}),Object(p.jsx)(k.a,{path:"/dashboard/gallery",component:C}),Object(p.jsx)(k.a,{path:"/dashboard/facilities",component:T}),Object(p.jsx)(k.a,{path:"/dashboard/roomallot",component:I})]})})})]})]})}function F(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=f().login,n=Object(a.useState)(""),s=Object(d.a)(n,2),r=s[0],o=s[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),x=O[0],m=O[1],g=Object(k.f)();function v(){return(v=Object(l.a)(i.a.mark((function a(n){var s,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,o(""),m(!0),a.next=6,c(e.current.value,t.current.value);case 6:s=e.current.value,r=s.substring(0,s.indexOf("@")),y.reactLocalStorage.set("userdata",JSON.stringify({name:r,email:e.current.value,image:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"})),g.push("/dashboard"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),o("Wrong Email/Password!!");case 15:m(!1);case 16:case"end":return a.stop()}}),a,null,[[1,12]])})))).apply(this,arguments)}var S=function(e){y.reactLocalStorage.set("userdata",JSON.stringify({name:e.profileObj.name,email:e.profileObj.email,image:e.profileObj.imageUrl})),g.push("/dashboard")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"appname",children:[Object(p.jsx)("i",{class:"fas fa-hotel"}),Object(p.jsx)("h3",{children:"HOSTEL MANAGEMENT"})]}),Object(p.jsx)("div",{className:"lsbox",children:Object(p.jsxs)(j.a.Body,{className:"lsbox",children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),r&&Object(p.jsx)(b.a,{variant:"danger",children:r}),Object(p.jsxs)(u.a,{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(p.jsxs)(u.a.Group,{id:"email",children:[Object(p.jsx)(u.a.Label,{children:"Email"}),Object(p.jsx)(u.a.Control,{type:"mail",ref:e,required:!0})]}),Object(p.jsxs)(u.a.Group,{id:"password",children:[Object(p.jsx)(u.a.Label,{children:"Password"}),Object(p.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"entrybtns",children:[Object(p.jsx)("button",{id:"logsign",disabled:x,type:"submit",children:"Log In"}),Object(p.jsx)(B.a,{clientId:"222923456734-s95m9k3u9dtlm87jcbm8e6f1asusvfuq.apps.googleusercontent.com",buttonText:"Login",onSuccess:S,onFailure:S,cookiePolicy:"single_host_origin"})]})]})]})}),Object(p.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(p.jsx)(N.b,{to:"/signup",children:"Sign Up"})]})]})}function M(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{class:"fas fa-exclamation-triangle"}),Object(p.jsx)("h3",{children:"Page Not Found!!"}),Object(p.jsx)(N.b,{to:"/",children:"Go To Home"})]})}var U=function(){return Object(p.jsx)("div",{className:"main_container",children:Object(p.jsx)("div",{children:Object(p.jsx)(N.a,{children:Object(p.jsx)(v,{children:Object(p.jsxs)(k.c,{children:[Object(p.jsx)(k.a,{path:"/dashboard",component:G}),Object(p.jsx)(k.a,{path:"/signup",component:L}),Object(p.jsx)(k.a,{exact:!0,path:"/hostel_management",component:F}),Object(p.jsx)(k.a,{exact:!0,path:"/",component:F}),Object(p.jsx)(k.a,{component:M})]})})})})})};c(64);r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.a393db1a.chunk.js.map